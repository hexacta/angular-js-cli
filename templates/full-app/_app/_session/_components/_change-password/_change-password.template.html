<div class="login-container">
    <form class="form-signin" ng-submit="$ctrl.changePassword()" name="$ctrl.changePasswordForm" novalidate>
        <div class="form-signin-heading text-center">
            <h1 class="sign-title hidden">Change Password</h1>
            <img src="img/login-logo.png" alt="">
        </div>
        <div class="login-wrap">
            <div class="login-input" ng-class="{'has-error': $ctrl.fieldHasError('username')}">
                <input type="text" class="form-control" placeholder="Username" autofocus="" ng-model="$ctrl.user.username" name="username"
                    required>
                <div ng-messages="$ctrl.changePasswordForm.username.$error" ng-if="($ctrl.changePasswordForm.username.$touched || $ctrl.changePasswordForm.$submitted)"
                    role="alert">
                    <div ng-message="required">This field is required</div>
                </div>
            </div>
            <div class="login-input" ng-class="{'has-error': $ctrl.fieldHasError('oldPassword')}">
                <input type="password" class="form-control" placeholder="Old Password" ng-model="$ctrl.user.oldPassword" name="oldPassword"
                    required>
                <div ng-messages="$ctrl.changePasswordForm.oldPassword.$error" ng-pattern="$ctrl.passwordRegex" ng-if="($ctrl.changePasswordForm.oldPassword.$touched || $ctrl.changePasswordForm.$submitted)"
                    role="alert">
                    <div ng-message="required">This field is required</div>
                </div>
            </div>
            <div class="login-input" ng-class="{'has-error': $ctrl.fieldHasError('newPassword')}">
                <input type="password" class="form-control" placeholder="New Password" ng-model="$ctrl.user.newPassword" name="newPassword"
                    required>
                <div ng-messages="$ctrl.changePasswordForm.newPassword.$error" ng-pattern="$ctrl.passwordRegex" ng-if="($ctrl.changePasswordForm.newPassword.$touched || $ctrl.changePasswordForm.$submitted)"
                    role="alert">
                    <div ng-message="required">This field is required</div>
                </div>
            </div>
            <div class="login-input" ng-class="{'has-error': $ctrl.fieldHasError('newPasswordRepeat')}">
                <input type="password" class="form-control" placeholder="Retype Password" ng-model="$ctrl.user.newPasswordRepeat" compare-to="$ctrl.user.newPassword"
                    name="newPasswordRepeat" required>
                <div ng-messages="$ctrl.changePasswordForm.newPasswordRepeat.$error" ng-if="($ctrl.changePasswordForm.newPasswordRepeat.$touched || $ctrl.changePasswordForm.$submitted)"
                    role="alert">
                    <div ng-message="required">This field is required</div>
                    <div ng-message="compareTo">The passwords do not match</div>
                </div>
            </div>

            <button class="btn btn-lg btn-primary btn-block">
                Change Password
            </button>

            <div class="bottom-link">
                <a ui-sref="login">Go to login
                </a>
            </div>

        </div>

    </form>

</div>